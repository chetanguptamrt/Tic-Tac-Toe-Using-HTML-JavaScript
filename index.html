<!DOCTYPE html>
<html>
    <head>
        <title>Tic Tac Toe</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="bootstrap.min.css">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    </head>
    <body>
        
        <nav class="navbar navbar-dark bg-dark">
            <a class="navbar-brand" href="#">
            <img src="./bg.png" width="30" height="30" class="d-inline-block align-top" alt="nav">
            Tic Tac Toe
            </a>
            <button onclick="window.open('https://github.com/chetanguptamrt/Tic-Tac-Toe-Using-HTML-JavaScript')" class="btn btn-outline-secondary my-2 my-sm-0">Source Code</button>
        </nav>
        <br/>
        <div class="container-fluid">
            <div class="row">
                <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                    <br/><br/>
                    <div class="col-10 offset-1 text-center">
                        <table class="table">
                            <tr height="120px">
                                <td style="border: none;" class="align-self-center" onclick="chance('0')"> 
                                    <h2 id="a1">1</h2>
                                </td>
                                <td style="border-top:none; border-left:5px solid #000000;border-right:5px solid #000000;" class="align-self-center" onclick="chance('1')"> 
                                    <h2 id="a2">2</h2>
                                </td>
                                <td style="border: none;" class="align-self-center" onclick="chance('2')"> 
                                    <h2 id="a3">3</h2>
                                </td>
                            </tr>
                            <tr height="120px">
                                <td style="border-top:5px solid #000000; border-bottom:5px solid #000000;" class="align-self-center" onclick="chance('3')"> 
                                    <h2 id="a4">4</h2>
                                </td>
                                <td style="border:5px solid #000000;" class="align-self-center" onclick="chance('4')"> 
                                    <h2 id="a5">5</h2>
                                </td>
                                <td style="border-top:5px solid #000000; border-bottom:5px solid #000000;" class="align-self-center" onclick="chance('5')"> 
                                    <h2 id="a6">6</h2>
                                </td>
                            </tr>
                            <tr height="120px">
                                <td style="border: none;" class="align-self-center" onclick="chance('6')"> 
                                    <h2 id="a7">7</h2>
                                </td>
                                <td style="border-left:5px solid #000000;border-right:5px solid #000000;" class="align-self-center" onclick="chance('7')"> 
                                    <h2 id="a8">8</h2>
                                </td>
                                <td style="border: none;" class="align-self-center" onclick="chance('8')"> 
                                    <h2 id="a9">9</h2>
                                </td>
                            </tr>
                          </table>
                        <br/>
                        <button class="btn btn-secondary btn-sm" onclick="refresh()">Refresh</button>
                    </div>
                </div>

                <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12 align-self-center">
                    <br/>
                    <Div align="center">
                        <h3 id="notice">Player A Chance</h3>
                        <br/><br/>
                        <div class="col-8">
                        <table class=" table table-bordered" cellpadding="10px" width="300px" >
                            <thead class="text-center bg-dark text-light">
                                <th width="100px"><label id="aName">Player A</label></th>
                                <th width="100px"><label id="bName">Player B</label></th>
                            </thead>
                            <tr class="text-center">
                                <td><label id="playera">0</label></td>
                                <td><label id="playerb">0</label></td>
                            </tr>
                        </table>
                        </div>
                        <br/>
                        <button class="text-center btn btn-secondary btn-sm" onclick="location.reload()" >Restart</button>                    
                    </div>
                    <br/>
                </div>
            </div>
        </div>
        <script>
            var playerA;
            var playerB;
            var arr = new Array(document.getElementById("a1"),document.getElementById("a2"),document.getElementById("a3"),
                                document.getElementById("a4"),document.getElementById("a5"),document.getElementById("a6"),
                                document.getElementById("a7"),document.getElementById("a8"),document.getElementById("a9"));
            var step = 0;
            var a;
            var b;
            var ta = 0;
            var tb = 0;
                
            $(document).ready(function(){
                playerA=prompt("Player A name","");
                playerB=prompt("Player B name","");            

                a = document.getElementById("playera");
                b = document.getElementById("playerb");
                
                if(playerA==="" || playerA===null){
                    playerA="Player A";
                }
                if(playerB==="" || playerB===null){
                    playerB="Player B";
                }
                document.getElementById("aName").innerHTML=playerA;
                document.getElementById("bName").innerHTML=playerB;
                document.getElementById("notice").innerHTML=playerA+" Chance";
            });

            function refresh(){
                for(let i=0;i<9;i++){
                    arr[i].innerHTML=i+1;
                }
                step = 0;
                document.getElementById("notice").innerHTML=playerA+" Chance";
            }

            function check(){
                if(arr[0].innerHTML==arr[1].innerHTML && arr[1].innerHTML==arr[2].innerHTML){
                    winner(arr[0].innerHTML);
                }
                if(arr[3].innerHTML==arr[4].innerHTML && arr[4].innerHTML==arr[5].innerHTML){
                    winner(arr[3].innerHTML);
                }
                if(arr[6].innerHTML==arr[7].innerHTML && arr[7].innerHTML==arr[8].innerHTML){
                    winner(arr[6].innerHTML);
                }
                if(arr[0].innerHTML==arr[3].innerHTML && arr[3].innerHTML==arr[6].innerHTML){
                    winner(arr[0].innerHTML);
                }
                if(arr[1].innerHTML==arr[4].innerHTML && arr[4].innerHTML==arr[7].innerHTML){
                    winner(arr[1].innerHTML);
                }
                    if(arr[2].innerHTML==arr[5].innerHTML && arr[5].innerHTML==arr[8].innerHTML){                        winner(arr[2].innerHTML);
                }
                if(arr[0].innerHTML==arr[4].innerHTML && arr[4].innerHTML==arr[8].innerHTML){
                    winner(arr[0].innerHTML);
                }
                if(arr[2].innerHTML==arr[4].innerHTML && arr[4].innerHTML==arr[6].innerHTML){
                    winner(arr[2].innerHTML);
                }
            }
            function winner(str){
                if(str=="O"){
                    a.innerHTML=++ta;
                    alert(playerA+" win");
                }
                else if(str=="X") {
                    b.innerHTML=++tb;                   
                    alert(playerB+" win");
                }
                for(let i=0;i<9;i++){
                    arr[i].innerHTML=i+1;
                }
                step = 0;
                document.getElementById("notice").innerHTML=playerA+" Chance";
            }
            
            function chance(str){
                if(arr[str].innerHTML=="X"||arr[str].innerHTML=="O"){
                    return;
                }
                if(step==0){
                    step=1;
                    arr[str].innerHTML="O";
                    document.getElementById("notice").innerHTML=playerB+" Chance";
                } 
                else {
                    step=0;
                    arr[str].innerHTML="X";
                    document.getElementById("notice").innerHTML=playerA+" Chance";
                }
                check();
            }
        </script>
    </body>
</html>
